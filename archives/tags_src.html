---
layout: default
title: Liufeiyu's Hive 
---

<section class="tag-cloud">
  <h2>Tag Cloud</h2>
  <div class="cloud">
    <a style="font-size: 1.5em" href="/tags.html#all">All</a>
    {% tag_cloud font-size: 0.8 - 2em%}
  </div>
</section>
<section class="blog-posts">
  <h2>Posts of <span class="filter-result">All</span></h2>
  <ul class="posts">
    {% for post in site.posts %}
    <li class="row" data-tags="{% for tag in post.tags %}{{tag}} {%endfor%}all" data-hide="false">
      <span class="span2">{{ post.date | date_to_string }} &raquo;</span>
      <span class="span4 offset1"><a href="{{ post.url }}">{{ post.title }}</a></span>
    </li>
    {% endfor %}
  </ul>
</section>
<script>
$(document).ready(function() {
  function filter_post(url) {
    var index = url.indexOf('#')
    if (index == -1) {
      return
    }
    var tag = url.substr(index + 1)
    $('ul.posts li').each(function() {
      var tags = $(this).attr('data-tags')
      var hide = $(this).attr('data-hide')
      if (tags.indexOf(tag) == -1) {
        if (hide == 'false') {
          $(this).addClass('hide')
          $(this).attr('data-hide', 'true')
        }
      } else {
        if (hide == 'true') {
          $(this).removeClass('hide')
          $(this).attr('data-hide', 'false')
        }
      }
    })
    $('.filter-result').html(tag)
  }
  $(".cloud a").click(function(e) {
    e.preventDefault()
    var url = $(this).attr('href')
    filter_post(url)
  })
  var href = window.location.href
  filter_post(href)
})
</script>


